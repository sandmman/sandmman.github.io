
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Asteroids - The Sandbox</title>
  <meta name="author" content="Aaron Liberatore">

  
  <meta name="description" content="Tweet Asteroids Jan 25th, 2016 8:23 am computation geometry, games Asteroids So, I&rsquo;ve recently developed an interest in Applied Computational &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://sandmman.github.io/blog/2016/01/25/Asteroids-Concave%20point%20intersection/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="The Sandbox" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body >
  <header role="banner" id="sidebar">
    <!-- Logo -->
<aside id="logo" class="clearfix">
  <div class="clearfix">
    <a href="/">The Sandbox</a>
  </div>
</aside>

<ul id="menu">

  <li class="title">
    <h1 id="title"><a href="/">The Sandbox</a></h1>
  </li>


  <li class="link">
    <a href="/about/">about</a>
  </li>


  <li class="link rss">
    <a href="/atom.xml">rss feed</a>
  </li>
</ul>


<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:sandmman.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>


<!-- Octopress Love -->
<aside id="octopress_linkback">
  <a href="http://octopress.org/">
    <span class="unicode_square">
      <span class="unicode_circle">
        &nbsp;
      </span>
    </span>
    <span class="octopress">Powered by Octopress</span>
  </a>
</aside>

  </header>
  <section id="main">
    <article class="post">
  <div class="sharing-box">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://sandmman.github.io/blog/2016/01/25/Asteroids-Concave%20point%20intersection/" data-via="" data-counturl="http://sandmman.github.io/blog/2016/01/25/Asteroids-Concave%20point%20intersection/" data-size="large">Tweet</a>
  
  
  
</div>

  
  <header>
    
      <h2 class="entry-title">Asteroids</h2>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-01-25T08:23:00-05:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>8:23 am</span></time>
		

<span class="categories">
  
    <a class='category' href='/blog/categories/computation-geometry/'>computation geometry</a>, <a class='category' href='/blog/categories/games/'>games</a>
  
</span>


        
      </p>
    
  </header>


<h1>Asteroids</h1>

<p>So, I&rsquo;ve recently developed an interest in Applied Computational Geometry and figured a great way to being playing around with the math/algorithms would be some simple classic arcade game. Of course, my first thought was Asteroids, which surprisingly several of my friends haven&rsquo;t even hear of. Kind of ridiculous if ya ask me! Its a classic!</p>

<p>Anyway, once having discovered these poor souls have never experienced that classic sense of nostalgia, I had my direction. And so, though still could use some tweaks I think it&rsquo;s turned out pretty well.</p>

<p><img src="../images/asteroid.png" alt="Alt text" /></p>

<p>It&rsquo;s got that classic look I wanted, but more importantly the odd asteroid shapes do, in fact, destroy your ship when and only when a point on your ship touches one on the asteroid. Now some of you may laugh. It seems obvious. Of course, that&rsquo;s how it should work, yet I&rsquo;ve seen it before and I&rsquo;ll see again where a game improperly creates its objects or tests collisions improperly such that collisions that occur on screen are not actually reflected.</p>

<h3>Math</h3>

<p>So, lets look at a little math to solve some of these problems. Aside from lazily using a bad test point (such as inside the space ship not on its edges), a common occurrence is visually showing a polygon, while internally storing a subsection of points to simplify the testing. It bugs the crap out of me, so lets to it right!</p>

<p>Let&rsquo;s say you have an asteroid that looks like the one below and your testing whether that red bullet is a hit or a miss.</p>

<p><img src="../images/concave_polygon_point.jpg" title="Concave Polygon" alt="Alt text" /></p>

<p>For a convex polygon like the one above, the best way to solve this we visually send a parallel line from the point both directions. Now, we can simply count the number of times the lines crosses a line segment of the polygon to determine its location. If it crosses an even number it is outside the polygon and odd when its inside.</p>

<p>This reduces the problem to an O(n) operation that checks each line segment to see if it passes through our horizontal line by checking to see if Ay is on one side and By is on the other.</p>

<p>I&rsquo;m not going to go into it here, but in the event you have a concave polygon it can be done in O(lgn)!!</p>



</article>


    <nav role="navigation" id="pagination">

</nav>
  </section>
  

  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
