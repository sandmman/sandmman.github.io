
<!DOCTYPE HTML>
<html lang="en-GB">
<head>
	<meta charset="utf-8">
	<title>Asteroids  | The Sandbox</title>

	<meta name="author" content="Aaron Liberatore">

<meta name="description" content="Asteroids So, I&rsquo;ve recently developed an interest in Applied Computational Geometry and figured a great way to being playing around with the &hellip;"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="The Sandbox" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	

</head>



<body>
	<header id="header" class="inner"><h1><a href="/">The Sandbox</a></h1>
<span class="tagline"></span>
<nav id="main-nav"><ul class="main-nav">
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/archives">Archives</a></li>
</ul>
</nav> 
<nav id="mobile-nav">
 	<div class="alignleft menu"> 
 		<a class="button">Menu</a> 
 		<div class="container"><ul class="main-nav">
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/archives">Archives</a></li>
</ul>
</div> 
 	</div> 
 </nav> 


</header>

	<div id="content" class="inner"><article class="post">
	<header>
		
		<h2 class="title">Asteroids</h2>
		
		<div class="meta date">



<time class='entry-date' datetime='2016-01-25T08:23:00-05:00'><span class='date'><span class='date-month'>Jan</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span></time></div>
	</header>

	<div class="entry-content"><h1>Asteroids</h1>

<p>So, I&rsquo;ve recently developed an interest in Applied Computational Geometry and figured a great way to being playing around with the math/algorithms would be some simple classic arcade game. Of course, my first thought was Asteroids, which surprisingly several of my friends haven&rsquo;t even heard of. Kind of ridiculous if ya ask me! Its a classic!</p>

<p>Anyway, once having discovered these poor souls have never experienced that classic sense of nostalgia, I had my direction. And so, though it still could use some tweaks I think it&rsquo;s turned out pretty well using my own sudo-game engine and was a ton of fun.</p>

<p><img src="../images/Asteroid.jpg" alt="Alt text" /></p>

<p>It&rsquo;s got that classic look I wanted, but more importantly the odd asteroid shapes do, in fact, destroy your ship when and only when a point on your ship touches one on the asteroid. Now some of you may laugh. It seems obvious. Of course, that&rsquo;s how it should work, yet I&rsquo;ve seen it before and I&rsquo;ll see again where a game improperly creates its objects or tests collisions improperly such that collisions that occur on screen are not actually reflected.</p>

<h3>Math</h3>

<p>So, lets look at a little math to solve some of these problems. Aside from lazily using a bad test point (such as inside the space ship not on its edges), a common occurrence is visually showing a polygon, while internally storing a subsection of points to simplify the testing. It bugs the crap out of me, so lets to it right!</p>

<p>Let&rsquo;s say you have an asteroid that looks like the one below and your testing whether that red bullet is a hit or a miss.</p>

<p><img src="../images/concave_polygon_point.jpg" title="Concave Polygon" alt="Alt text" /></p>

<p>For a convex polygon like the one above, the best way to solve this is by visually sending a horizontal line from the point both directions. Now, we can simply count the number of times the lines crosses a line segment of the polygon in each direction. If there are an odd number of nodes on each side of the test point, then it is inside the polygon; if there are an even number of nodes on each side of the test point, then it is outside the polygon. This can intuitively be thought of as the point having to enter/exit the polygon.</p>

<p>Alternatively, you could just send a single ray in one direction and count those line crossings where the same odd number means its inside and even outside.</p>

<p>This reduces the problem to an O(n) operation that checks each line segment to see if it passes through our horizontal line by checking to see if Ay is on one side and By is on the other.</p>

<p>I&rsquo;m not going to go into it here, but in the event you have a concave polygon it can be done in O(lgn)!!</p>
</div>


	
	</article>

	
	<div class="share">
	  <!-- <ul> -->
	  <!--   <li>
  <a href="https://twitter.com/intent/tweet?text=Asteroids by @&url=http://sandmman.github.io/blog/2016/01/25/Asteroids-Concave%20point%20intersection/" title="Share Asteroids on Twitter">
    <img src="/images/social/twitter.png" />
  </a>
</li>
 -->
	  <!--   <li>
  <a href="https://www.facebook.com/sharer.php?u=http://sandmman.github.io/blog/2016/01/25/Asteroids-Concave%20point%20intersection/" title="Share Asteroids on Facebook">
    <img src="/images/social/facebook.png" />
  </a>
</li>
 -->
	  <!--   <li>
  <a href="https://plus.google.com/share?url=http://sandmman.github.io/blog/2016/01/25/Asteroids-Concave%20point%20intersection/" title="Share Asteroids on Google Plus">
    <img src="/images/social/google.png" />
  </a>
</li>
 -->
	  <!-- </ul> -->
	</div>



</div>
	<footer id="footer" class="inner"><br>
<br>
<br>
<br>
&copy; 2013-2016

    Aaron Liberatore

</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/hyphenator.js"></script>







</body>
<script>
  $(document).ready(function() {
  // Make images center
  $('p:has(img)').css('text-align', 'center');
  });
</script>
</html>
